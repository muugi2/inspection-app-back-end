# üî• Firewall –ê—Å—É—É–¥–∞–ª - –•—É—Ä–¥–∞–Ω –®–∏–π–¥—ç–ª

## ‚ö° –•—É—Ä–¥–∞–Ω –ó–∞—Å–≤–∞—Ä (2 –º–∏–Ω—É—Ç)

### –ê–ª—Ö–∞–º 1: Firewall –î“Ø—Ä—ç–º –ù—ç–º—ç—Ö

**–ê—Ä–≥—ã–Ω —Ö–æ—ë—Ä —Å–æ–Ω–≥–æ–ª—Ç:**

#### **–ê) Batch —Ñ–∞–π–ª (–•–∞–º–≥–∏–π–Ω —Ö—è–ª–±–∞—Ä)**
1. `firewall-quick-fix.bat` –¥—ç—ç—Ä —Ö—É–ª–≥–∞–Ω—ã **–±–∞—Ä—É—É–Ω —Ç–æ–≤—á** –¥–∞—Ä–Ω–∞
2. **"Run as administrator"** —Å–æ–Ω–≥–æ–Ω–æ
3. Enter –¥–∞—Ä–∂ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–Ω–∞

#### **–ë) PowerShell (–°–∞–Ω–ª–∞–≥–¥–∞—Ö)**
1. Administrator —ç—Ä—Ö—ç—ç—Ä PowerShell –Ω—ç—ç–Ω—ç
2. –î–∞—Ä–∞–∞—Ö –∫–æ–º–∞–Ω–¥—ã–≥ –∞–∂–∏–ª–ª—É—É–ª–Ω–∞:
```powershell
cd C:\Users\munhb\inspection_app\inspection-app-back-end
.\setup-firewall.ps1
```

### –ê–ª—Ö–∞–º 2: Docker –î–∞—Ö–∏–Ω –≠—Ö–ª“Ø“Ø–ª—ç—Ö

```bash
cd C:\Users\munhb\inspection_app\inspection-app-back-end
docker-compose down
docker-compose up -d
```

### –ê–ª—Ö–∞–º 3: –®–∞–ª–≥–∞—Ö

```powershell
.\test-firewall-ports.ps1
```

–•—ç—Ä—ç–≤ **–ë“Æ–• –ü–û–†–¢–£–£–î ‚úÖ** —Ö–∞—Ä–∞–≥–¥–≤–∞–ª - **–ê–ú–ñ–ò–õ–¢–¢–ê–ô!** üéâ

---

## üìã –ù—ç—ç–≥–¥—Å—ç–Ω –ø–æ—Ä—Ç—É—É–¥

| –ü–æ—Ä—Ç | –•—ç—Ä—ç–≥–ª—ç—ç |
|------|----------|
| 2121 | FTP —Ö–æ–ª–±–æ–ª—Ç |
| 21000-21010 | FTP ”©–≥”©–≥–¥”©–ª |
| 4555 | Backend API |
| 3306 | MySQL |
| 3001 | Carbone |

---

## ‚ùå –ê—Å—É—É–¥–∞–ª “Ø—Ä–≥—ç–ª–∂–ª–±—ç–ª

### 1Ô∏è‚É£ –î“Ø—Ä–º“Ø“Ø–¥ “Ø“Ø—Å—ç—ç–≥“Ø–π —ç—Å—ç—Ö

```powershell
# –®–∞–ª–≥–∞—Ö
Get-NetFirewallRule -DisplayName "*Docker*","*Backend*","*MySQL*"

# –•—ç—Ä—ç–≤ —Ö–æ–æ—Å–æ–Ω –±–æ–ª –¥–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ—Ö
.\setup-firewall.ps1
```

### 2Ô∏è‚É£ Docker –∞–∂–∏–ª–ª–∞—Ö–≥“Ø–π –±–∞–π–Ω–∞

```bash
# Docker —Å—Ç–∞—Ç—É—Å —à–∞–ª–≥–∞—Ö
docker ps

# –•—ç—Ä—ç–≤ –∞–ª–¥–∞–∞ –≥–∞—Ä–≤–∞–ª Docker Desktop –¥–∞—Ö–∏–Ω —ç—Ö–ª“Ø“Ø–ª—ç—Ö
```

### 3Ô∏è‚É£ –ü–æ—Ä—Ç—É—É–¥ —Ö–∞–∞–ª—Ç—Ç–∞–π –±–∞–π–Ω–∞

```powershell
# –ü–æ—Ä—Ç—É—É–¥ —Ö–∞–∞–≥–¥—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
Test-NetConnection -ComputerName 192.168.1.10 -Port 2121
Test-NetConnection -ComputerName 192.168.1.10 -Port 4555
```

–•—ç—Ä—ç–≤ **TcpTestSucceeded : False** –≥–∞—Ä–≤–∞–ª:
- Firewall –∞—Å–∞–∞–ª—Ç—Ç–∞–π —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
- –î“Ø—Ä–º“Ø“Ø–¥–∏–π–≥ –¥–∞—Ö–∏–Ω –Ω—ç–º—ç—Ö
- –ê–Ω—Ç–∏–≤–∏—Ä—É—Å –ø—Ä–æ–≥—Ä–∞–º–º –±–ª–æ–∫–ª–æ–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö

### 4Ô∏è‚É£ Flutter app —Ö–æ–ª–±–æ–≥–¥–æ—Ö–≥“Ø–π –±–∞–π–Ω–∞

`lib/config/app_config.dart` —Ñ–∞–π–ª—ã–≥ —à–∞–ª–≥–∞–∞—Ä–∞–π:

```dart
static const String ftpHost = '192.168.1.10';
static const int ftpPort = 2121;  // ‚òëÔ∏è –≠–Ω—ç 2121 –±–∞–π—Ö —ë—Å—Ç–æ–π!
```

---

## üîß –¢—É—Å–ª–∞—Ö –∫–æ–º–∞–Ω–¥—É—É–¥

### Firewall –±“Ø—Ö—ç–ª–¥—ç—ç —à–∞–ª–≥–∞—Ö
```powershell
netsh advfirewall show allprofiles
```

### Firewall —Ç“Ø—Ä —É–Ω—Ç—Ä–∞–∞—Ö (–¢–µ—Å—Ç —Ö–∏–π—Ö “Ø–µ–¥)
```powershell
# –ê–ù–•–ê–ê–†–£–£–õ–ì–ê: –ê—é—É–ª–≥“Ø–π –±—É—Å!
Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False

# –î–∞—Ö–∏–Ω –∞—Å–∞–∞—Ö
Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled True
```

### Docker –ª–æ–≥—É—É–¥ “Ø–∑—ç—Ö
```bash
docker logs ftp_server
docker logs inspection_mysql
docker logs inspection_carbone_1
```

### Tablet-–∞–∞—Å —à–∞–ª–≥–∞—Ö (Termux)
```bash
# FTP —à–∞–ª–≥–∞—Ö
ftp 192.168.1.10 2121
# user: test
# pass: T3st!234

# –ü–æ—Ä—Ç—É—É–¥ —Å–∫–∞–Ω —Ö–∏–π—Ö
nmap -Pn -p 2121,21000-21010,4555 192.168.1.10
```

---

## ‚úÖ –ê–º–∂–∏–ª—Ç—Ç–∞–π –∞–∂–∏–ª–ª–∞—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —è–∞–∂ –º—ç–¥—ç—Ö –≤—ç?

1. ‚úÖ `test-firewall-ports.ps1` –±“Ø—Ö –ø–æ—Ä—Ç—É—É–¥ –Ω–æ–≥–æ–æ–Ω
2. ‚úÖ `docker ps` –±“Ø—Ö container "Up" —Ç”©–ª”©–≤—Ç –±–∞–π–Ω–∞
3. ‚úÖ Flutter app –∑—É—Ä–∞–≥ —Ç–∞—Ç–∞–∂ –∞–≤—á –±–æ–ª–∂ –±–∞–π–Ω–∞
4. ‚úÖ Firewall –∞—Å–∞–∞–ª—Ç—Ç–∞–π “Ø–µ–¥ —á –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–Ω–∞

---

## üìû –¢—É—Å–ª–∞–º–∂ —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª

–î–∞—Ä–∞–∞—Ö —Ñ–∞–π–ª—É—É–¥—ã–≥ —É–Ω—à–∏–∂ “Ø–∑—ç—ç—Ä—ç–π:
- `FIREWALL_FIX_GUIDE.md` - –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –∑–∞–∞–≤–∞—Ä—á–∏–ª–≥–∞–∞
- `ADD_FIREWALL_RULES.txt` - –•—É—É—á–∏–Ω –∑–∞–∞–≤–∞—Ä
- `NETWORK_ISSUE_SOLUTION.md` - –°“Ø–ª–∂—ç—ç–Ω–∏–π –∞—Å—É—É–¥–∞–ª

---

**–û–Ω—Ü–ª–æ—Ö:** Firewall-–∏–π–Ω –≥–æ–ª –∞–ª–¥–∞–∞ –Ω—å FTP –ø–æ—Ä—Ç **21** –±–∏—à **2121** –±–∞–π—Å–∞–Ω!




